{% extends parent_template|default:"cestmoilechef/base_cestmoilechef.html" %}

{% block title %}
{{ block.super }} - Détail d'une catégorie
{% endblock %}

{% block content %}
<p>Ceci est le template cestmoilechef/categorie_detail.html</p>

<h2> {{ categorie.nom }} </h2>

{% comment %}
En fait, j'ai rien à dire... mais à l'avenir ça pourrait changer.
{% endcomment %}

{% if categorie.photo_set.all %}
<section>
  <h3>Photos</h3>
  <ul>
    <!-- Ici la liste des photos -->
    {% for photo in categorie.photo_set.all %}
    <li>
      <img src="http://courteline.org/hotes/vignettes/{{ photo.nomAbrege }}.jpg">
      <a href="/photo-precise/{{ photo.nomAbrege }}">
      {% comment %}
      Je ne comprends pas bien pourquoi je dois écrire l'URL en clair,
      au lieu de ce qui suit...
      <li><a href="{% url 'montre_photo_precise' %}{{ photo.nomAbrege }}">
      ... qui en pratique serait traduit en /categorie/<nom categ>/nomPhoto
      et donc ne fonctionnerait pas.
      {% endcomment %}
      {{ photo.nomAbrege }}
    </a></li>
    {% endfor %}
  </ul>
</section>
{% else %}
<p>Cette catégorie n'est en relation avec aucune photo.</p>
{% endif %}
{% endblock %}
